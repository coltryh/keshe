# 智能企业管理系统 - 功能设计文档

## 项目概述
一个基于 Spring Boot + Vue 的智能企业管理系统，适用于课程设计水平。系统整合了 RESTful API、MVC 设计模式、ORM、依赖注入、AOP 等技术，并集成简单的 AI 功能。

---

## 一、系统架构

### 1.1 技术栈
**后端：**
- Spring Boot 3.x
- MyBatis（对象关系映射 ORM）
- Maven（依赖管理）
- MySQL 8.0
- Spring AOP（面向切面编程）
- RESTful API

**前端：**
- Vue 3
- Element Plus（UI 组件库）
- Axios（HTTP 请求）
- Vue Router

**AI 集成：**
- 调用 OpenAI/智谱 AI API 实现智能分析

### 1.2 设计模式应用
- **MVC 模式**：Controller → Service → Dao 分层
- **依赖注入（DI）**：通过 Spring @Autowired 实现
- **AOP 切面编程**：日志记录、权限验证、事务管理
- **ORM 映射**：MyBatis 实体类与数据库表映射

---

## 二、功能模块设计

### 2.1 用户管理模块

#### 2.1.1 用户登录/注册
- 用户注册（用户名、密码、邮箱、角色）
- 用户登录（JWT Token 认证）
- 密码加密存储（BCrypt）

#### 2.1.2 用户信息管理
- 查询用户列表（分页、条件查询）
- 修改用户信息
- 删除用户
- 用户角色分配（管理员、普通员工）

**API 接口示例：**
```
POST   /api/auth/login        用户登录
POST   /api/auth/register     用户注册
GET    /api/users             获取用户列表
GET    /api/users/{id}        获取用户详情
PUT    /api/users/{id}        更新用户信息
DELETE /api/users/{id}        删除用户
```

---

### 2.2 员工管理模块

#### 2.2.1 员工信息管理
- 员工基本信息（姓名、性别、年龄、部门、职位）
- 员工入职/离职管理
- 员工信息导入导出（Excel）

#### 2.2.2 部门管理
- 部门增删改查
- 部门层级结构（树形结构）

**API 接口示例：**
```
GET    /api/employees         获取员工列表
POST   /api/employees         添加员工
PUT    /api/employees/{id}    更新员工信息
DELETE /api/employees/{id}    删除员工
GET    /api/departments       获取部门列表
POST   /api/departments       添加部门
```

---

### 2.3 考勤管理模块

#### 2.3.1 打卡签到
- 员工签到/签退
- 记录打卡时间和位置
- 查询个人考勤记录

#### 2.3.2 考勤统计
- 月度考勤统计（出勤天数、迟到次数）
- 考勤异常记录
- 考勤报表导出

**API 接口示例：**
```
POST   /api/attendance/checkin     签到
POST   /api/attendance/checkout    签退
GET    /api/attendance/record      查询考勤记录
GET    /api/attendance/statistics  考勤统计
```

---

### 2.4 薪资管理模块

#### 2.4.1 薪资计算
- 基本工资设置
- 绩效工资计算
- 扣款管理（迟到、请假）
- 薪资发放记录

#### 2.4.2 薪资查询
- 员工查询个人薪资
- 管理员查看所有员工薪资
- 薪资明细导出

**API 接口示例：**
```
GET    /api/salary/employee/{id}     查询员工薪资
POST   /api/salary/calculate         计算薪资
GET    /api/salary/records           薪资发放记录
```

---

### 2.5 审批流程模块

#### 2.5.1 请假申请
- 员工提交请假申请
- 管理员审批
- 审批状态跟踪

#### 2.5.2 报销申请
- 提交报销申请
- 审批流程
- 报销记录查询

**API 接口示例：**
```
POST   /api/leave/apply          提交请假申请
PUT    /api/leave/{id}/approve   审批请假
GET    /api/leave/records        查询请假记录
POST   /api/reimburse/apply      提交报销申请
```

---

### 2.6 AI 智能分析模块 ⭐

#### 2.6.1 智能数据分析
- 员工流失风险预测（基于考勤、绩效数据）
- 薪资合理性分析
- 部门工作效率评估

#### 2.6.2 AI 助手
- 智能问答助手（回答企业管理相关问题）
- 数据智能洞察（自动生成报表分析）
- 决策建议（基于数据分析给出管理建议）

**API 接口示例：**
```
POST   /api/ai/analyze/turnover      流失风险分析
POST   /api/ai/analyze/salary        薪资分析
POST   /api/ai/chat                  AI 智能问答
POST   /api/ai/report/generate       生成智能报表
```

---

### 2.7 系统管理模块

#### 2.7.1 日志管理（AOP 实现）
- 操作日志记录（用户增删改查操作）
- 登录日志记录
- 异常日志记录

#### 2.7.2 数据字典
- 系统参数配置
- 字典数据管理

---

## 三、数据库设计

### 3.1 核心数据表

```sql
-- 用户表
t_user (id, username, password, email, role, create_time)

-- 员工表
t_employee (id, name, gender, age, department_id, position, phone, email)

-- 部门表
t_department (id, name, parent_id, description)

-- 考勤表
t_attendance (id, employee_id, checkin_time, checkout_time, status, date)

-- 薪资表
t_salary (id, employee_id, base_salary, performance_salary, deduction, total, month)

-- 请假申请表
t_leave_application (id, employee_id, leave_type, start_time, end_time, reason, status)

-- 操作日志表（AOP）
t_operation_log (id, username, operation, method, params, ip, time)
```

---

## 四、项目结构

### 4.1 后端项目结构（Spring Boot）
```
enterprise-management-backend/
├── src/main/java/com/enterprise/
│   ├── EnterpriseManagementApplication.java
│   ├── controller/          # Controller 层（MVC）
│   │   ├── UserController.java
│   │   ├── EmployeeController.java
│   │   └── AIController.java
│   ├── service/             # Service 层（业务逻辑）
│   │   ├── UserService.java
│   │   └── EmployeeService.java
│   ├── dao/                 # Dao 层（数据访问）
│   │   ├── UserMapper.java
│   │   └── EmployeeMapper.java
│   ├── entity/              # 实体类（ORM）
│   │   ├── User.java
│   │   └── Employee.java
│   ├── dto/                 # 数据传输对象
│   ├── config/              # 配置类
│   ├── aspect/              # AOP 切面
│   │   ├── LogAspect.java
│   │   └── SecurityAspect.java
│   └── util/                # 工具类
├── src/main/resources/
│   ├── application.yml      # 配置文件
│   ├── mapper/              # MyBatis XML 映射文件
│   └── static/
└── pom.xml                  # Maven 依赖配置
```

### 4.2 前端项目结构（Vue 3）
```
enterprise-management-frontend/
├── src/
│   ├── views/               # 页面组件
│   │   ├── Login.vue
│   │   ├── EmployeeManagement.vue
│   │   └── AIAnalysis.vue
│   ├── components/          # 通用组件
│   ├── router/              # 路由配置
│   ├── store/               # 状态管理
│   ├── api/                 # API 接口封装
│   └── App.vue
├── package.json
└── vite.config.js
```

---

## 五、技术要点实现

### 5.1 MVC 设计模式
- **Controller**：接收 HTTP 请求，调用 Service，返回响应
- **Service**：业务逻辑处理，事务管理
- **Dao/Mapper**：数据库操作，SQL 执行

### 5.2 依赖注入（DI）
```java
@Service
public class EmployeeServiceImpl implements EmployeeService {
    @Autowired
    private EmployeeMapper employeeMapper;  // 依赖注入
}
```

### 5.3 AOP 面向切面编程
```java
@Aspect
@Component
public class LogAspect {
    @Around("@annotation(com.enterprise.annotation.Log)")
    public Object logAround(ProceedingJoinPoint point) {
        // 记录操作日志
    }
}
```

### 5.4 ORM 对象关系映射
```java
@TableName("t_employee")
public class Employee {
    @TableId(type = IdType.AUTO)
    private Long id;
    private String name;
    private String department;
}
```

---

## 六、开发计划

### 阶段一：基础框架搭建
- [ ] Spring Boot 项目初始化
- [ ] MySQL 数据库设计
- [ ] MyBatis 配置
- [ ] Vue 3 前端项目初始化

### 阶段二：核心功能开发
- [ ] 用户管理模块
- [ ] 员工管理模块
- [ ] 考勤管理模块
- [ ] 薪资管理模块

### 阶段三：AI 集成
- [ ] 接入 AI API
- [ ] 实现智能数据分析
- [ ] 实现 AI 问答助手

### 阶段四：优化完善
- [ ] AOP 日志切面
- [ ] 前后端联调
- [ ] 功能测试
- [ ] 文档编写

---

## 七、运行环境要求

- JDK 17+
- Maven 3.8+
- MySQL 8.0
- Node.js 16+
- 浏览器：Chrome/Edge（推荐）

---

## 八、预计工作量

- 数据库设计：1-2 天
- 后端开发：5-7 天
- 前端开发：3-5 天
- AI 集成：2-3 天
- 测试调试：2-3 天

**总计：约 2周**



